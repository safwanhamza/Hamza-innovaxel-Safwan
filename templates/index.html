<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Shortening Service</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <h1>Hamza-Innovaxel-Safwan</h1>
    <h2>URL Shortening Service</h2>

    <!-- Shorten URL Form -->
    <form action="{{ url_for('shorten_url_form') }}" method="post">
        <input type="url" name="original_url" placeholder="Enter URL" required>
        <button type="submit">Shorten</button>
    </form>

    <!-- Show Shortened URL (if available) -->
    {% if short_url %}
    <p><strong>Shortened URL:</strong> <a href="{{ short_url }}" target="_blank">{{ short_url }}</a></p>
    {% endif %}

    <!-- View All Short URLs Button (Always Visible) -->
    <form action="{{ url_for('get_all_urls') }}" method="get">
        <button type="submit">View All Short URLs</button>
    </form>

    <!-- View Stats Form -->
    <form action="{{ url_for('get_url_stats_page', short_code='') }}" method="get">
        <input type="text" name="short_code" placeholder="Enter Short Code" required>
        <button type="submit">View Stats</button>
    </form>

    <!-- Update Short URL Form -->
    <form action="{{ url_for('update_short_code_form') }}" method="post">
        <input type="text" name="old_short_code" placeholder="Current Short Code" required>
        <input type="text" name="new_short_code" placeholder="New Short Code" required>
        <button type="submit">Update</button>
    </form>

    <!-- Delete Short URL Form -->
    <form action="{{ url_for('delete_url_form') }}" method="post">
        <input type="text" name="short_code" placeholder="Enter Short Code" required>
        <button type="submit"
            onclick="return confirm('Are you sure you want to delete this short URL?');">Delete</button>
    </form>

    {% if error %}
    <p style="color: red;">{{ error }}</p>
    {% endif %}

</body>

</html>